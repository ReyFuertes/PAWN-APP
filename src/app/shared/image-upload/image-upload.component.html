<div *ngIf="parentForm" [formGroup]="parentForm" class="row lpa_upload-container">
  <div appDnd [ngClass]="!displayImage ? 'border-dashed' : ''" (filesChangeEmiter)="onFilesChange($event)" (dragOver)="displayImage = !$event">
    <div *ngIf="!data.image" class="row lpa_upload-image-container">
      <div>
        <i class="far fa-image fa-2x"></i>
        <p class="caption">Drag your image file here.</p>
      </div>
    </div>
    <div *ngIf="data.image && !isDropping" class="img-container">
      <!-- <i *ngIf="!displayImage" class="fas fa-spinner fa-pulse fa-2x"></i> -->
      <img [src]="data.image" [width]="cropperSettings.croppedWidth" [height]="cropperSettings.croppedHeight">
    </div>
  </div>
  <div class="row lpa_upload-btn">
    <input
      #profileImage
      type="file"
      id="image"
      formControlName="image"
      (change)="fileChangeListener($event)"
      accept="image/png,image/jpg,image/jpeg"
    />
  </div>
</div>

<p-dialog
  [width]="500"
  header="Image Cropper"
  [(visible)]="showCroppingDialog"
  positionTop="20"
  >
  <img-cropper #cropper [image]="data" [settings]="cropperSettings" (onCrop)="cropped($event)"></img-cropper>
  <p-footer>
    <button type="button" class="btn btn-default lpa_btn" (click)="showCroppingDialog = false">Done</button>
  </p-footer>
</p-dialog>

